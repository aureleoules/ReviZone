var app=angular.module("revizone",["ngRoute","revizone.controllers","ngDialog"]);app.filter("range",function(){return function(a,c){c=parseInt(c);for(var b=1;b<c;b++){a.push(b)}return a}});app.directive("ngFileSelect",function(){return{link:function(a,b){b.bind("change",function(c){a.file=(c.srcElement||c.target).files[0];a.getFile()})}}});app.config(function(b,a){a.html5Mode(false);a.hashPrefix("");b.when("/",{redirectTo:"/accueil",controller:"AppCtrl"}).when("/accueil",{title:"Accueil",templateUrl:"partials/home.html",controller:"homeCtrl"}).when("/inscription",{title:"Inscription",templateUrl:"partials/register.html",controller:"registerCtrl"}).when("/trouver",{title:"Recherche de cours",templateUrl:"partials/recherche.html",controller:"rechercheCtrl"}).when("/classe",{title:"Ma classe",templateUrl:"partials/classe.html",controller:"classeCtrl"}).when("/connexion",{title:"Connexion",templateUrl:"partials/login.html",controller:"loginCtrl"}).when("/profil/:user",{title:"Profil",templateUrl:"partials/profil.html",controller:"profilCtrl"}).when("/profil",{title:"Profil",templateUrl:"partials/profil.html",controller:"profilCtrl"}).when("/rediger",{title:"Rédiger un cours",templateUrl:"partials/nouveau.html",controller:"newCtrl"}).when("/cours/:idcours",{title:"Cours",templateUrl:"partials/cours.html",controller:"coursCtrl"}).when("/cours/:coursId/modifier",{title:"Modifier un cours",templateUrl:"partials/modifier.html",controller:"modifierCtrl"}).when("/cours/:coursId/exercices",{title:"Exercices",templateUrl:"partials/exercices.html",controller:"exercicesCtrl"}).otherwise({title:"Page non trouvée!",redirectTo:"/404"})});app.run(["$rootScope","$location","AuthService",function(a,c,b){a.$on("$routeChangeStart",function(g,f,h){if(!b.isAuthenticated()){var e=["/","","/accueil","/connexion","/404","/inscription","/trouver"];var d=e.indexOf(c.path())>-1||(c.path().substring(0,"/cours/".length))==="/cours/"||(c.path().substring(0,"/profil/".length))==="/profil/";if(!d){g.preventDefault();c.path("/login")}}});a.$on("$routeChangeSuccess",function(f,g,e,d){a.title=g.$$route.title})}]);